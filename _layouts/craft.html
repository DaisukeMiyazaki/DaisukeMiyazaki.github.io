<!doctype html>
<meta charset="utf-8" />
<html lang="{{ page.lang }}" class="scroll-auto">
  {% include head.html %}

  <body class="bg-gray-100 text-gray-900">
    {% include header.html %}

    <div class="container mx-auto py-4">
      <div class="mb-4 text-center">
        <p class="mx-auto text-sm text-gray-600">
          {{ page.date | date: "%b %-d, %Y" }}{% if page.author %} • {{
          page.author }}{% endif %}{% if page.meta %} • {{ page.meta }}{% endif
          %}
        </p>
        <h1 class="mx-auto text-3xl font-bold">{{ page.title }}</h1>
      </div>

      <div class="prose mx-auto mb-8">{{ content }}</div>

      <!-- Disqus -->
      {% if page.comments %}
      <div id="disqus_thread" class="mt-8"></div>
      <script>
        var disqus_config = function () {
          this.page.url = "{{site.url}}{{page.url}}"; // Replace PAGE_URL with your page's canonical URL variable
          this.page.identifier = "{{page.url}}"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };

        (function () {
          // DON'T EDIT BELOW THIS LINE
          var d = document,
            s = d.createElement("script");
          s.src = "https://daisukemiyazakis-blog.disqus.com/embed.js";
          s.setAttribute("data-timestamp", +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
      <noscript
        >Please enable JavaScript to view the
        <a href="https://disqus.com/?ref_noscript"
          >comments powered by Disqus.</a
        ></noscript
      >
      {% endif %} {% assign related = site.related_posts | where:"lang",
      page.lang %} {% if related.size > 0 %}
      <div class="mt-12">
        <h2 class="text-2xl font-semibold">
          {{ site.data.translations['relatedPosts'][page.lang] }}
        </h2>

        <ul class="mt-4 space-y-4">
          {% for post in related limit:3 %}
          <li>
            <h3 class="text-xl">
              <a href="{{ post.url }}" class="text-blue-600 hover:underline">
                {{ post.title }}
                <small class="block text-gray-500"
                  >{{ post.date | date_to_string }}</small
                >
              </a>
            </h3>
          </li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}
    </div>
  </body>
</html>
