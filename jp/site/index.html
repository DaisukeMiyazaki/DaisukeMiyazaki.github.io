<!doctype html>
<meta charset="utf-8" />
<html lang="jp">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <link
    rel="canonical"
    href="https://mdaisuke.net/jp/site/"
  />

  <link
    rel="alternate"
    type="application/atom+xml"
    title="Daisuke Miyazaki's Blog"
    href="/feed.xml"
  />

  <title>
     ã“ã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦ &middot; Daisuke Miyazaki's Blog 
  </title>

  <!--costom CSS-->
  <link rel="stylesheet" href="/assets/css/main.css" />
  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link rel="shortcut icon" href="/assets/favicon.ico" />

  <!-- seo -->
  <meta name="author" content="Daisuke Miyazaki" />
  <meta
    name="description"
    content="Daisuke is an engineer based in Tokyo. This is his personal website."
  />

  <!-- open graph -->
  <meta property="og:title" content="Daisuke (Daisuke Miyazaki)" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://mdaisuke.net/pics/avatar.jpg" />
  <meta
    property="og:description"
    content="Daisuke is an engineer based in Tokyo. This is his personal website."
  />
  <meta property="og:url" content="https://mdaisuke.net" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:site_name" content="Daisuke Miyazaki" />

  
    
  <link
    rel="alternate"
    hreflang="en"
    href="/en/site/"
  />
  
  <link
    rel="alternate"
    hreflang="jp"
    href="/jp/site/"
  />
   
</head>

<!-- Global site tag (gtag.js) - Google Analytics -->
<!-- Google tag (gtag.js) -->
<script
  async
  src="https://www.googletagmanager.com/gtag/js?id=G-LRV9J804ME"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());

  gtag("config", "G-LRV9J804ME");
</script>
<script>
  if (
    localStorage.getItem("theme") === "dark" ||
    (!localStorage.getItem("theme") &&
      window.matchMedia("(prefers-color-scheme: dark)").matches)
  ) {
    document.documentElement.classList.add("dark");
  } else {
    document.documentElement.classList.remove("dark");
  }
</script>


  <body
    class="primary-light text-gray-900 dark:bg-primary-dark dark:text-gray-100"
  >
    <header class="primary-light px-4 py-4 dark:bg-primary-dark">
  <div
    class="container mx-auto flex max-w-3xl items-center justify-between p-4"
  >
    <a
      class="text-2xl font-bold text-gray-800 dark:text-gray-100"
      href="/"
    >
      <h1>Daisuke Miyazaki's Blog</h1>
    </a>
    <nav class="flex items-center">
      <div class="flex flex-col items-end space-y-2">
        <!-- è‹±èªã¨æ—¥æœ¬èªã‚’å‡ºã—åˆ†ã‘ã‚‹headerå†…ã®ã‚¹ã‚¤ãƒƒãƒãƒ£ãƒ¼ -->
<div class="mx-4">
  
  <a
    href="/en"
    class="text-primary-link hover:text-primary-link dark:text-primary-link-dark"
    >EN</a
  >
   
  <a
    href="/"
    class="text-primary-link hover:text-primary-link dark:text-primary-link-dark"
    >JP</a
  >
  
</div>

        <a
          href="/recipes"
          class="text-gray-800 hover:text-gray-600 dark:text-gray-100 dark:hover:text-gray-300"
          >Recipes</a
        >         
             
      </div>
      <!-- Dark Mode åˆ‡æ›¿ãƒœã‚¿ãƒ³ -->
      <button id="theme-toggle" class="ml-4 p-2 focus:outline-none">
        <svg
          id="theme-toggle-dark-icon"
          class="hidden h-6 w-6"
          fill="currentColor"
          viewBox="0 0 24 24"
        >
          <!-- å¤ªé™½ã‚¢ã‚¤ã‚³ãƒ³ (darkãƒ¢ãƒ¼ãƒ‰æ™‚ã¯è¡¨ç¤ºã€lightåˆ‡æ›¿ç”¨) -->
          <path
            d="M12 4a1 1 0 011-1h0a1 1 0 010 2h0a1 1 0 01-1-1zm5.66 1.34a1 1 0 011.41 1.41l0 0a1 1 0 01-1.41-1.41zm3.34 5.66a1 1 0 011 1v0a1 1 0 11-2 0v0a1 1 0 011-1zm-1.34 5.66a1 1 0 011.41 1.41l0 0a1 1 0 01-1.41-1.41zm-5.66 3.34a1 1 0 011 1v0a1 1 0 11-2 0v0a1 1 0 011-1zm-5.66-1.34a1 1 0 010 2h0a1 1 0 010-2h0zm-3.34-5.66a1 1 0 011-1v0a1 1 0 110 2v0a1 1 0 01-1-1zm1.34-5.66a1 1 0 011.41-1.41h0a1 1 0 11-1.41 1.41zM12 8a4 4 0 100 8 4 4 0 000-8z"
          />
        </svg>
        <svg
          id="theme-toggle-light-icon"
          class="h-6 w-6"
          fill="currentColor"
          viewBox="0 0 24 24"
        >
          <!-- æœˆã‚¢ã‚¤ã‚³ãƒ³ (lightãƒ¢ãƒ¼ãƒ‰æ™‚ã¯è¡¨ç¤ºã€darkåˆ‡æ›¿ç”¨) -->
          <path d="M21 12.79A9 9 0 0112.21 3a7 7 0 100 14 9 9 0 008.79-4.21z" />
        </svg>
      </button>
    </nav>
  </div>
</header>
<script>
  const themeToggleBtn = document.getElementById("theme-toggle");
  const darkIcon = document.getElementById("theme-toggle-dark-icon");
  const lightIcon = document.getElementById("theme-toggle-light-icon");
  // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã€ç¾åœ¨ã®ãƒ†ãƒ¼ãƒã«å¿œã˜ã¦ã‚¢ã‚¤ã‚³ãƒ³ã‚’åˆ‡ã‚Šæ›¿ãˆ
  if (document.documentElement.classList.contains("dark")) {
    darkIcon.classList.remove("hidden");
    lightIcon.classList.add("hidden");
  } else {
    darkIcon.classList.add("hidden");
    lightIcon.classList.remove("hidden");
  }
  themeToggleBtn.addEventListener("click", function () {
    document.documentElement.classList.toggle("dark");
    if (document.documentElement.classList.contains("dark")) {
      localStorage.setItem("theme", "dark");
      darkIcon.classList.remove("hidden");
      lightIcon.classList.add("hidden");
    } else {
      localStorage.setItem("theme", "light");
      darkIcon.classList.add("hidden");
      lightIcon.classList.remove("hidden");
    }
  });
</script>
<!-- End Dark Mode -->

    <div class="container prose mx-auto p-4 lg:prose-xl"><div
  class="container mx-auto px-4 py-8 dark:bg-primary-dark dark:text-gray-100"
>
  <header class="mb-8">
    <p class="meta text-sm text-gray-600 dark:text-gray-400">
      
    </p>
    <h1 class="title text-3xl font-bold dark:text-primary-light">
      ã“ã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦
    </h1>
  </header>

  <article class="dark:prose-invert lg:prose-xl"><p>â€» ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯<a href="https://github.com/DaisukeMiyazaki/DaisukeMiyazaki.github.io">ã“ã¡ã‚‰</a></p>

<p>ã“ã®ã‚µã‚¤ãƒˆã¯jekyllã¨ã„ã†é™çš„ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ä½¿ã£ã¦ãƒ›ã‚¹ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚</p>

<ul>
  <li>è»½é‡ã€‚indexãƒšãƒ¼ã‚¸ã¯1.2MBã§ãƒ­ãƒ¼ãƒ‰ã¯200msä»¥ä¸‹</li>
  <li>ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–: pcã‚„ãƒ¢ãƒã‚¤ãƒ«ãã‚Œãã‚Œã®ç”»é¢å¹…ã«å¯¾å¿œ</li>
  <li>
    <p>i18å¯¾å¿œ: æ—¥æœ¬èªã€è‹±èªã«ã‚ˆã‚‹åˆ‡ã‚Šæ›¿ãˆã‚’ã‚µãƒãƒ¼ãƒˆ</p>
  </li>
  <li>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¿½åŠ : markdownãƒ•ã‚¡ã‚¤ãƒ«ã®è¿½åŠ ã®ã¿</li>
  <li>
    <p>ãƒ‡ãƒ—ãƒ­ã‚¤: ãƒ–ãƒ©ãƒ³ãƒã¸ã®pushã®ã¿</p>
  </li>
  <li>google analyticså¯¾å¿œ</li>
</ul>

<p>ãƒ¢ãƒ€ãƒ³ãªé–‹ç™ºä½“é¨“ã§ã¯ã€å¤šãã®ã€Œã‚„ã‚Šã™ãã€ãŒæ•£è¦‹ã•ã‚Œã¾ã™ã€‚å‹•çš„ã«å‡¦ç†ã—ãªã‘ã‚Œã°ã„ã‘ãªã„ãƒ‡ãƒ¼ã‚¿é‡ãŒå¤šãèªè¨¼ãªã©ãŒå¿…è¦ãªå ´åˆã¯ãƒ¢ãƒ€ãƒ³ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã„ã¤ã¤ã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ã¯å•é¡Œã‚ã‚Šã¾ã›ã‚“ãŒã€ãƒãƒŠãƒ¼ã‚’å‡ºã™ã€ãƒœã‚¿ãƒ³ãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹ç­‰ã ã‘ã«å¤§é‡ã®jsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ­ãƒ¼ãƒ‰ã™ã‚‹é–‹ç™ºçš„ãªã€Œã‚„ã‚Šã™ãã€ã‹ã‚‰ã€å¿…è¦ä»¥ä¸Šã®åºƒå‘Šã§è‚å¿ƒã®èª­è€…ã¨ã—ã¦ã®ä½“é¨“ãŒã€Œæ±šæŸ“ã€ã•ã‚ŒãŸã€Œã‚„ã‚Šã™ãã€ãªã©ã€‚</p>

<p>ã‚·ãƒ³ãƒ—ãƒ«ãªhtml, cssã‚’ä½¿ã£ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã€è»½é‡ã§é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãªæŒ™å‹•ã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ã¯å®Œå…¨ã«ã€Œå¯èƒ½ã€ã§ã™ã€‚ã“ã‚Œã«åŠ ãˆã€è‡ªåˆ†å¥½ã¿ã®å ´æ‰€ã‚’ä½œã‚Šä¸Šã’ã‚‹ã“ã¨ã‚‚æŠ€è¡“è€…ã¨ã—ã¦ã®é†é†å‘³ã¨ã‚‚è¨€ãˆã‚‹ã¨æ€ã„ã¾ã™ã€‚</p>
</article>

  <!-- ã„ã„ã­ãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ Start -->
  <div class="my-12 flex justify-center">
    <button
      id="like-button"
      class="group flex items-center gap-2 rounded-full border-2 border-gray-200 px-6 py-3 transition-all hover:border-pink-500 hover:bg-pink-50 dark:border-gray-700 dark:hover:border-pink-500 dark:hover:bg-pink-900/20"
      onclick="handleLike()"
    >
      <span class="text-2xl transition-transform group-active:scale-125"
        >ğŸ‘</span
      >
      <span class="font-medium text-gray-600 dark:text-gray-300">
        Like
        <span
          id="like-count"
          class="ml-1 text-lg font-bold text-pink-500 opacity-0 transition-opacity duration-500"
          >0</span
        >
      </span>
    </button>
  </div>

  <script>
    // APIã®ãƒ™ãƒ¼ã‚¹URL (æœ¬ç•ªç”¨)
    const API_BASE = "https://mdaisukenet.pythonanywhere.com";

    // ãƒšãƒ¼ã‚¸ã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ID (ãƒ‘ã‚¹ã‚’åˆ©ç”¨)
    // æœ«å°¾ã® /index.html ç­‰ã®æºã‚Œã‚’å¸åã™ã‚‹ãŸã‚ã€pathnameã‚’ãã®ã¾ã¾ã‚­ãƒ¼ã«ã™ã‚‹ã®ãŒç„¡é›£
    const pageId = window.location.pathname;
    const storageKey = `liked_${pageId}`;

    const likeBtn = document.getElementById("like-button");
    const countSpan = document.getElementById("like-count");

    // åˆæœŸè¡¨ç¤ºæ™‚ã«ã‚«ã‚¦ãƒ³ãƒˆã‚’å–å¾—
    async function fetchLikes() {
      try {
        const res = await fetch(
          `${API_BASE}/api/likes?page_id=${encodeURIComponent(pageId)}`,
        );
        if (res.ok) {
          const data = await res.json();
          updateCountDisplay(data.count);
        }
      } catch (error) {
        console.error("Failed to fetch likes:", error);
      }
    }

    // ã„ã„ã­é€ä¿¡
    async function handleLike() {
      // æ—¢ã«ã„ã„ã­æ¸ˆã¿ãªã‚‰ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã ã‘ã—ã¦é€ä¿¡ã—ãªã„
      if (localStorage.getItem(storageKey)) {
        likeBtn.classList.add("animate-bounce");
        setTimeout(() => likeBtn.classList.remove("animate-bounce"), 500);
        return;
      }

      try {
        const res = await fetch(`${API_BASE}/api/likes`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ page_id: pageId }),
        });

        if (res.ok) {
          const data = await res.json();
          updateCountDisplay(data.count);

          // ã„ã„ã­æ¸ˆã¿çŠ¶æ…‹ã‚’ä¿å­˜
          localStorage.setItem(storageKey, "true");
          markAsLiked();
        }
      } catch (error) {
        console.error("Failed to send like:", error);
      }
    }

    function updateCountDisplay(count) {
      countSpan.innerText = count;
      countSpan.classList.remove("opacity-0");
    }

    function markAsLiked() {
      likeBtn.classList.add(
        "border-pink-500",
        "bg-pink-50",
        "dark:bg-pink-900/20",
      );
      // ã‚¢ã‚¤ã‚³ãƒ³ã‚’ãƒãƒ¼ãƒˆã«å¤‰åŒ–ã•ã›ã‚‹
      const iconSpan = likeBtn.querySelector("span:first-child");
      if (iconSpan) iconSpan.innerText = "ğŸ’–";
    }

    // åˆæœŸåŒ–
    if (localStorage.getItem(storageKey)) {
      markAsLiked();
    }
    // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«å–å¾—é–‹å§‹
    fetchLikes();
  </script>
  <!-- ã„ã„ã­ãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ End -->

   
</div>
</div>
    <footer class="primary-light">
  <div
    class="container mx-auto max-w-4xl p-4 pb-16 pt-4 dark:bg-primary-dark dark:text-gray-100"
  >
    <div class="flex justify-start">
      <section class="mb-4 mt-4 md:mb-0">
        <a
          href="https://mdaisuke.net/jp/1995/09/02/%E8%87%AA%E5%B7%B1%E7%B4%B9%E4%BB%8B/"
          target="_blank"
        >
          <img
            id="profile"
            src="/assets/images/me_face.jpg"
            alt="A picture of me."
            class="h-24 w-24 rounded-full"
        /></a>
      </section>
    </div>
  </div>
</footer>

  </body>
</html>
