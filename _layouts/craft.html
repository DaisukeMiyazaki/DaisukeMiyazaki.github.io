<!doctype html>
<meta charset="utf-8" />
<html lang="{{ page.lang }}">
  {% include head.html %}

  <body
    class="primary-light text-gray-900 dark:bg-primary-dark dark:text-gray-100"
  >
    {% include header.html %}

    <div class="container mx-auto py-4 dark:bg-primary-dark dark:text-gray-100">
      <div class="mx-auto max-w-4xl">
        <div class="mb-4 text-center">
          <p class="mx-auto text-sm text-gray-600 dark:text-gray-400">
            {{ page.date | date: "%b %-d, %Y" }}{% if page.author %} • {{
            page.author }}{% endif %}{% if page.meta %} • {{ page.meta }}{%
            endif %}
          </p>
          <h1 class="mx-auto text-3xl font-bold dark:text-white">
            {{ page.title }}
          </h1>
        </div>

        <div class="mx-auto mb-8">{{ content }}</div>

        {% assign related = site.related_posts | where:"lang", page.lang %} {%
        if related.size > 0 %}
        <div class="mt-12">
          <h2 class="text-2xl font-semibold">
            {{ site.data.translations['relatedPosts'][page.lang] }}
          </h2>

          <ul class="mx-auto max-w-4xl space-y-4 p-4">
            {% for post in related limit:3 %}
            <li>
              <a
                href="{{ post.url }}"
                class="text-primary-link hover:underline dark:text-primary-link-dark dark:hover:text-primary-link-dark"
              >
                {{ post.title }}
                <small class="block text-gray-500 dark:text-gray-400"
                  >{{ post.date | date_to_string }}</small
                >
              </a>
            </li>
            {% endfor %}
          </ul>
        </div>
        {% endif %}
      </div>
    </div>
    {% include footer.html %}
  </body>
</html>
